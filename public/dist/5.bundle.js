(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{452:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(168),o=a.n(l),i=a(43),c=a(393),u=a(446),m=a(450),s=a(448),p=a(397),d=a(404),f=a(421),E=a(422),h=a(444),b=a(395),v=a(423),y=a(424),g=a(396),O=a(425),w=a(447),A=a(443),j=a(445);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],n=!0,r=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,l=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw l}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var C=Object(p.a)((function(e){return{button:{padding:2}}})),P=function(e){var t=C(),a=S(Object(n.useState)(""),2),l=a[0],o=a[1],i=function(t){t.preventDefault(),l&&(e.handleAddOption(l),o(""))};return r.a.createElement("form",{onSubmit:function(e){i(e)}},r.a.createElement(m.a,{className:t.textField,"aria-label":"addOption",value:l,onChange:function(e){o(e.target.value)},margin:"normal",autoComplete:"off",inputProps:{"data-testid":"option-input"},InputProps:{startAdornment:r.a.createElement(A.a,{position:"start"},r.a.createElement(h.a,{type:"submit",color:"primary",onClick:function(e){i(e)},className:t.button,"aria-label":"submitOption",component:"span"},r.a.createElement(j.a,null)))}}))},k=Object(p.a)((function(e){return{narrowCell:{paddingTop:0,paddingBottom:0}}})),x=function(e){var t=e.options,a=e.handleRemoveOption,n=e.handleAddOption,l=k();return r.a.createElement(b.a,null,r.a.createElement(v.a,null,r.a.createElement(y.a,null,r.a.createElement(f.a,null,r.a.createElement(E.a,null,r.a.createElement(g.a,{color:"inherit",variant:"h6"},"OPTIONS")))),r.a.createElement(O.a,null,t.length?t.map((function(e,t){return r.a.createElement(f.a,{key:t},r.a.createElement(E.a,{className:l.narrowCell},r.a.createElement(u.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center","aria-label":"option"},r.a.createElement(u.a,{item:!0},e),r.a.createElement(u.a,{item:!0},r.a.createElement(h.a,{id:t,onClick:function(e){a(e.target.id)},"aria-label":"delete"},r.a.createElement(w.a,null))))))})):r.a.createElement(f.a,null,r.a.createElement(E.a,null,"Add Some Options!")),r.a.createElement(f.a,null,r.a.createElement(E.a,{className:l.narrowCell},r.a.createElement(P,{handleAddOption:n}))))))};function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],n=!0,r=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,l=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw l}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var I=Object(p.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"}}}));t.default=function(){I();var e=N(Object(n.useState)(""),2),t=e[0],a=e[1],l=N(Object(n.useState)([]),2),p=l[0],f=l[1],E=N(Object(n.useState)(!1),2),h=E[0],b=E[1],v=function(e){f(p.concat(e))},y=function(e){var t=Array.from(p);t.splice(e,1),f(t)},g=function(e){if(e.preventDefault(),p.length){var a={};p.forEach((function(e){a[e]=[]}));var n={name:t,options:a,totalVotes:0,terminated:!1};o.a.post("/polls",n).then((function(e){b(e.data)})).catch((function(e){console.log(e)}))}else alert("Add some options!")};return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.Helmet,null,r.a.createElement("title",null,"Create A Poll"),r.a.createElement("meta",{name:"description",content:"What movie should we watch? Where should we go for dinner? Find consensus in your social groups: create your group poll and find the decision that pleases everyone...or close."})),function(){if(h){var e="/polls/".concat(h,"/vote");return r.a.createElement(i.a,{to:e})}return r.a.createElement(c.a,{"data-testid":"createpollform",maxWidth:"lg"},r.a.createElement(u.a,{container:!0,direction:"column",spacing:3},r.a.createElement(u.a,{item:!0},r.a.createElement(m.a,{id:"createPoll",label:"Poll Name",value:t,inputProps:{"data-testid":"pollname"},onChange:function(e){a(e.target.value)},margin:"normal",autoComplete:"off"})),r.a.createElement(u.a,{item:!0,id:"optionsList"},r.a.createElement(x,{handleAddOption:v,handleRemoveOption:y,options:p})),r.a.createElement(u.a,{item:!0},r.a.createElement(s.a,{id:"createPoll",size:"large",onClick:g,variant:"contained",color:"primary","aria-label":"createPoll"},"CREATE POLL"))))}())}}}]);