(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{399:function(e,t,a){"use strict";var n=a(1),r=a.n(n).a.createContext();t.a=r},401:function(e,t,a){"use strict";var n=a(1),r=a.n(n).a.createContext();t.a=r},421:function(e,t,a){"use strict";var n=a(2),r=a(7),o=a(1),i=a.n(o),c=(a(16),a(27)),l=a(28),s=a(399),d=i.a.forwardRef((function(e,t){var a=e.classes,o=e.className,l=e.component,d=void 0===l?"tr":l,p=e.hover,u=void 0!==p&&p,m=e.selected,g=void 0!==m&&m,f=Object(r.a)(e,["classes","className","component","hover","selected"]),b=i.a.useContext(s.a);return i.a.createElement(d,Object(n.a)({ref:t,className:Object(c.a)(a.root,o,b&&{head:a.head,footer:a.footer}[b.variant],u&&a.hover,g&&a.selected)},f))}));t.a=Object(l.a)((function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,"&$selected":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.04)":"rgba(255, 255, 255, 0.08)"},"&$hover:hover":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.07)":"rgba(255, 255, 255, 0.14)"}},selected:{},hover:{},head:{},footer:{}}}),{name:"MuiTableRow"})(d)},422:function(e,t,a){"use strict";var n=a(7),r=a(2),o=a(1),i=a.n(o),c=(a(16),a(27)),l=a(28),s=a(35),d=a(64),p=a(401),u=a(399),m=i.a.forwardRef((function(e,t){var a,o=e.align,l=void 0===o?"inherit":o,d=e.classes,m=e.className,g=e.component,f=e.padding,b=e.scope,h=e.size,v=e.sortDirection,y=e.variant,E=Object(n.a)(e,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),j=i.a.useContext(p.a),x=i.a.useContext(u.a);a=g||(x&&"head"===x.variant?"th":"td");var O=b;!O&&x&&"head"===x.variant&&(O="col");var w=f||(j&&j.padding?j.padding:"default"),R=h||(j&&j.size?j.size:"medium"),k=y||x&&x.variant,N=null;return v&&(N="asc"===v?"ascending":"descending"),i.a.createElement(a,Object(r.a)({ref:t,className:Object(c.a)(d.root,m,"inherit"!==l&&d["align".concat(Object(s.a)(l))],"default"!==w&&d["padding".concat(Object(s.a)(w))],"medium"!==R&&d["size".concat(Object(s.a)(R))],{head:[d.head,j&&j.stickyHeader&&d.stickyHeader],body:d.body,footer:d.footer}[k]),"aria-sort":N,scope:O},E))}));t.a=Object(l.a)((function(e){return{root:Object(r.a)({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===e.palette.type?Object(d.d)(Object(d.b)(e.palette.divider,1),.88):Object(d.a)(Object(d.b)(e.palette.divider,1),.68)),textAlign:"left",padding:"14px 40px 14px 16px","&:last-child":{paddingRight:16}}),head:{color:e.palette.text.secondary,fontSize:e.typography.pxToRem(12),lineHeight:e.typography.pxToRem(21),fontWeight:e.typography.fontWeightMedium},body:{color:e.palette.text.primary,fontWeight:e.typography.fontWeightRegular},footer:{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0px 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"},stickyHeader:{position:"sticky",top:0,left:0,zIndex:1,backgroundColor:e.palette.background.default}}}),{name:"MuiTableCell"})(m)},423:function(e,t,a){"use strict";var n=a(2),r=a(7),o=a(1),i=a.n(o),c=(a(16),a(27)),l=a(28),s=a(401),d=i.a.forwardRef((function(e,t){var a=e.classes,o=e.className,l=e.component,d=void 0===l?"table":l,p=e.padding,u=void 0===p?"default":p,m=e.size,g=void 0===m?"medium":m,f=e.stickyHeader,b=void 0!==f&&f,h=Object(r.a)(e,["classes","className","component","padding","size","stickyHeader"]),v=i.a.useMemo((function(){return{padding:u,size:g,stickyHeader:b}}),[u,g,b]);return i.a.createElement(s.a.Provider,{value:v},i.a.createElement(d,Object(n.a)({ref:t,className:Object(c.a)(a.root,o,b&&a.stickyHeader)},h)))}));t.a=Object(l.a)({root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0},stickyHeader:{borderCollapse:"separate"}},{name:"MuiTable"})(d)},424:function(e,t,a){"use strict";var n=a(2),r=a(7),o=a(1),i=a.n(o),c=(a(16),a(27)),l=a(28),s=a(399),d={variant:"head"},p=i.a.forwardRef((function(e,t){var a=e.classes,o=e.className,l=e.component,p=void 0===l?"thead":l,u=Object(r.a)(e,["classes","className","component"]);return i.a.createElement(s.a.Provider,{value:d},i.a.createElement(p,Object(n.a)({className:Object(c.a)(a.root,o),ref:t},u)))}));t.a=Object(l.a)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(p)},425:function(e,t,a){"use strict";var n=a(2),r=a(7),o=a(1),i=a.n(o),c=(a(16),a(27)),l=a(28),s=a(399),d={variant:"body"},p=i.a.forwardRef((function(e,t){var a=e.classes,o=e.className,l=e.component,p=void 0===l?"tbody":l,u=Object(r.a)(e,["classes","className","component"]);return i.a.createElement(s.a.Provider,{value:d},i.a.createElement(p,Object(n.a)({className:Object(c.a)(a.root,o),ref:t},u)))}));t.a=Object(l.a)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(p)},449:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(168),i=a.n(o),c=a(43),l=a(404),s=a(393),d=a(446),p=a(423),u=a(424),m=a(421),g=a(422),f=a(425),b=a(448),h=a(396),v=a(397);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var E=Object(v.a)((function(e){return{button:{width:150,height:50},container:{marginTop:20}}}));t.default=function(e){var t=e.match,a=E(),o=y(Object(n.useState)({name:"",options:{},totalVotes:0}),2),v=o[0],j=o[1],x=y(Object(n.useState)(!1),2),O=x[0],w=x[1];Object(n.useEffect)((function(){var e;e="/polls/".concat(t.params.pollId),i.a.get(e).then((function(e){j(e.data)})).catch((function(e){console.log("Error getting poll results:",e)}))}),[]);var R=function(){i.a.put("/polls/".concat(t.params.pollId),{terminated:!0}).then((function(){var e={};Object.assign(e,v),e.terminated=!0,j(e)})).catch((function(e){console.log("ERR:",e)}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.Helmet,null,r.a.createElement("title",null,"View Results"),r.a.createElement("meta",{name:"description",content:"Results are coming in -- have you voted? If everyone has cast their votes, lock your results in by viewing the rankings for each option."})),O?r.a.createElement(c.a,{to:O}):v.terminated?r.a.createElement(s.a,{"data-testid":"results",maxWidth:"sm"},r.a.createElement(d.a,{container:!0,direction:"column",spacing:3},r.a.createElement(d.a,{item:!0},r.a.createElement(p.a,null,r.a.createElement(u.a,null,r.a.createElement(m.a,null,r.a.createElement(g.a,null,r.a.createElement("h2",null,"Results")),r.a.createElement(g.a,null))),r.a.createElement(f.a,null,function(){var e=[];for(var t in v.options){var a=v.options[t].reduce((function(e,t){return e+Number(t)}));e.push([t,a])}return e.sort((function(e,t){return t[1]-e[1]}))}().map((function(e,t){return r.a.createElement(m.a,{key:t},r.a.createElement(g.a,{"aria-label":"option"},e[0]),r.a.createElement(g.a,{"aria-label":"points"},e[1]))}))))),r.a.createElement(d.a,{item:!0},r.a.createElement(b.a,{size:"large",variant:"contained",color:"primary",onClick:function(){w("/polls/".concat(t.params.pollId,"/vote"))}},"Restart Poll?")))):r.a.createElement(s.a,{"data-testid":"results",className:a.container,maxWidth:"sm"},r.a.createElement(d.a,{container:!0,spacing:2,direction:"column",alignItems:"center"},r.a.createElement(d.a,{item:!0},r.a.createElement(h.a,{align:"center",variant:"h3",component:"h3"},"Total Votes Submitted: ",v.totalVotes)),r.a.createElement(d.a,{item:!0,container:!0,direction:"column",alignItems:"center",spacing:1},r.a.createElement(d.a,{item:!0},r.a.createElement(b.a,{"aria-label":"viewresults",className:a.button,variant:"contained",color:"primary",onClick:R},"VIEW RESULTS")),r.a.createElement(d.a,{item:!0},r.a.createElement(h.a,{variant:"body2",component:"span"},"Voting will be disabled after viewing results"))))))}}}]);